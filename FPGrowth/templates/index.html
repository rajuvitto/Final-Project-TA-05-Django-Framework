{% extends "layouts.html" %}
{% load static %}
{% block content %}

    <section class="content">
        <div class="container-fluid">

            <div class="row">
                <div class="col-lg-12">
                    <div class="view-header">
                        <div class="pull-right text-right" style="line-height: 14px">
                            <small><br><br> <span class="c-white">v.1.1</span></small>
                        </div>
                        <div class="header-icon">
                            <i class="pe page-header-icon pe-7s-shield"></i>
                        </div>
                        <div class="header-title">
                            <h3 class="m-b-xs">Final Project TA-05</h3>
                            <small>
                                Penambangan AdaptIf Aturan Asosiasi untuk Data Spatio-Temporal menggunakan Algoritma Optimized Closed FP-Growth Studi Kasus pada Bencana Alam
                            </small>
                        </div>
                    </div>
                    <hr>
                </div>
            </div>

            <!-- Start Upload File -->
            <div class="row">
                <div class="col-lg-12">
                    <div id="panel2" class="panel panel-filled">
                            <div class="loader">
                                    <div class="loader-bar"></div>
                                    
                                </div>
                        <div class="panel-heading">
                            <div class="panel-tools">
                                <a class="panel-toggle"><i class="fa fa-chevron-up"></i></a>
                            </div>
                            File inputs
                        </div>
                        <div class="panel-body">
                            <form action="" method="post">
                            {% csrf_token %}
                                <div class="row">
                                    <div class="col-lg-10">
                                        <label class="btn btn-accent" for="file-selector2">
                                            <input id="file-selector2" type="file" name="dataset_name" required="True" style="display:none;"
                                                onchange="$('#upload-file-info2').html($(this).val());">
                                            <span id="upload-file-info2">Browse file</span>
                                        </label>
                                    </div>
                                    <div class="col-lg-2">
                                        <button type=submit class="btn btn-w-md btn-success btn-rounded"> <span class="glyphicon glyphicon-upload" style="margin-right:5px;"></span>Upload </button>
                                    </div>
                                </div>
                            </form> 
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Upload File -->
            {% if LengthOfDataset %}
            <div class="row">
                <div class="col-lg-2 col-xs-6">
                        <div class="panel panel-filled">
                            <div class="panel-body" style="height: 100px;">
                                <h2 class="m-b-none" style="color: #f6a821">
                                    {{LengthOfDataset}}
                                    <!-- 262 <span class="slight"><i class="fa fa-play fa-rotate-270 text-warning"> </i> +18%</span> -->
                                </h2>
                                <div class="small">Total Transaction</div>
                                <!-- <div class="slight m-t-sm"><i class="fa fa-clock-o"> </i> Updated: <span class="c-white">04:00am</span></div> -->
                            </div>
                        </div>
                    </div>
                <div class="col-lg-2 col-xs-6">
                    <div class="panel panel-filled">

                        <div class="panel-body" style="height: 100px">
                            <h2 class="m-b-none" style="color: #f6a821">
                                {{LengthOfFrequentPattern}}
                                <!-- <span class="slight"><i class="fa fa-play fa-rotate-270 text-warning"> </i> +{{DecreasePresentation}}%</span> -->
                            </h2>

                            <div class="small">Total Frequent Pattern</div>
                            <!-- <div class="slight m-t-sm"><i class="fa fa-clock-o"> </i> Updated: <span class="c-white">10:22pm</span></div> -->
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-xs-6">
                    <div class="panel panel-filled">
                        <div class="panel-body" style="height: 100px">
                            <h2 class="m-b-none" style="color: #f6a821">
                                {{LengthOfClosedPattern}} <span class="slight"><i class="fa fa-play fa-rotate-90 c-white"> </i> {{DecreasePresentation}}%</span>
                            </h2>

                            <div class="small">Total Closed Pattern</div>
                            <!-- <div class="slight m-t-sm"><i class="fa fa-clock-o"> </i> Updated: <span class="c-white">9:10am</span></div> -->
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-xs-6">
                    <div class="panel panel-filled">
                        <div class="panel-body" style="height: 100px">
                            <h2 class="m-b-none" style="color: #f6a821">
                                {{LengthOfAssociationRules}}
                                <!-- 262 <span class="slight"><i class="fa fa-play fa-rotate-270 text-warning"> </i> +56%</span> -->
                            </h2>

                            <div class="small">Total Association Rules</div>
                            <div class="slight m-t-sm"><i class="fa fa-clock-o"> </i>Before &nbsp;<span class="c-white">Optimization</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-xs-6">
                    <div class="panel panel-filled">
                        <div class="panel-body" style="height: 100px">
                            <h2 class="m-b-none" style="color: #f6a821">
                                {{LengthOfAssociationRulesAfterOptimization}}
                                <!-- 262 <span class="slight"><i class="fa fa-play fa-rotate-270 text-warning"> </i> +18%</span> -->
                            </h2>

                            <div class="small">Total Association Rules</div>
                            <div class="slight m-t-sm"><i class="fa fa-clock-o"> </i>After &nbsp;<span class="c-white">Optimization</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-xs-6">
                    <div class="panel panel-filled">
                        <div class="panel-body" style="height: 100px">
                            <h2 class="m-b-none" style="color: #1bbf89; font-size: 26px">
                                Time Execution
                                <!-- 262 <span class="slight"><i class="fa fa-play fa-rotate-270 text-warning"> </i> +18%</span> -->
                            </h2>
                            <div class="small">{{TimeExecution}} second </div>
                            <!-- <div class="slight m-t-sm"><i class="fa fa-clock-o"> </i> Updated: <span class="c-white">04:00am</span></div> -->
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}

            <!-- START ASSOCIATION RULES TABLE -->
            {% if ListOfDictOfRulesAfterOptimization %}
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-filled">
                        <div class="panel-heading">
                            <div class="panel-tools">
                                <a class="panel-toggle"><i class="fa fa-chevron-up"></i></a>
                            </div>
                            <h2 class="m-b-none" style="color: #1bbf89; font-size: 22px">
                                    Association Rules Table
                            </h2>
                        </div>
                        <div class="panel-body">
                            <p>
                                The Association Rules Will Shown Below
                            </p>
                            <table id="tableExample5" class="table table-striped table-hover table-responsive">
                                    <thead>
                                    <tr>
                                        <th>No</th>
                                        <th>Rules</th>
                                        <th>Antecedence</th>
                                        <th>Consequent</th>
                                        <th>P(A)</th>
                                        <th>P(B)</th>
                                        <th>P(AUB)</th>
                                        <th>Kulczynski</th>
                                        <th>IR</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                            {% for x in ListOfDictOfRulesAfterOptimization  %}
                                            <tr>
                                                <td>{{forloop.counter}}</td>
                                                <td>{{x.Rules}}</td>
                                                <td>{{x.Antecedence}}</td>
                                                <td>{{x.Consequent}}</td>
                                                <td>{{x.SupportAntecedence}}</td>
                                                <td>{{x.SupportConsequent}}</td>
                                                <td>{{x.SupportAntecedenceandConsequent}}</td>
                                                <td>{{x.Kulczynski}}</td>
                                                <td>{{x.IR}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                        <tfoot>
                                                <tr>
                                               
                                                </tr>
                                            </tfoot>
                                </table>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            <!-- END ASSOCIATION RULES TABLE -->

            <br>

            <!-- START FREQUENT PATTERN TABLE -->
            {% if HTMLFrequentPattern %}
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-filled">
                        <div class="panel-heading">
                            <div class="panel-tools">
                                <a class="panel-toggle"><i class="fa fa-chevron-up"></i></a>
                            </div>
                            <h2 class="m-b-none" style="color: #1bbf89; font-size: 22px">
                                Frequent Pattern Table
                            </h2>
                        </div>
                        <div class="panel-body">
                            <p>
                                The Frequent Pattern Will Shown Below
                            </p>
                            <table id="tableExample3" class="table table-striped table-hover table-responsive-sm">
                                    <thead>
                                    <tr>
                                        <th>No</th>
                                        <th>Rules</th>
                                        <th>Support</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                            {% for x in HTMLFrequentPattern  %}
                                            <tr>
                                                <td>{{forloop.counter}}</td>
                                                <td>{{x.0}}</td>
                                                <td>{{x.1}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                        <tfoot>
                                                <tr>
                                               
                                                </tr>
                                            </tfoot>
                                </table>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            <!-- END FREQUENT PATTERN TABLE -->

            <br>

             <!-- START CLOSED PATTERN TABLE -->
             {% if HTMLClosedPattern %}
             <div class="row">
                 <div class="col-md-12">
                     <div class="panel panel-filled">
                         <div class="panel-heading">
                             <div class="panel-tools">
                                 <a class="panel-toggle"><i class="fa fa-chevron-up"></i></a>
                             </div>
                             <h2 class="m-b-none" style="color: #1bbf89; font-size: 22px">
                                    Closed Pattern Table
                                </h2>
                             
                         </div>
                         <div class="panel-body">
                             <p>
                                 The Closed Pattern Will Shown Below
                             </p>
                             <table id="tableExample4" class="table table-striped table-hover table-responsive-sm">
                                     <thead>
                                     <tr>
                                         <th>No</th>
                                         <th>Rules</th>
                                         <th>Support</th>
                                        </tr>
                                     </thead>
                                     <tbody>
                                             {% for x in HTMLClosedPattern  %}
                                             <tr>
                                                 <td>{{forloop.counter}}</td>
                                                 <td>{{x.0}}</td>
                                                 <td>{{x.1}}</td>
                                             </tr>
                                             {% endfor %}
                                         </tbody>
                                         <tfoot>
                                                 <tr>
                                                
                                                 </tr>
                                             </tfoot>
                                 </table>
                         </div>
                     </div>
                 </div>
             </div>
             {% endif %}
             <!-- END CLOSED PATTERN TABLE -->

             

            
            <!-- <div class="row">
                <div class="col-md-12">
                    <div class="panel">
                        <div class="row">
                            <div class="col-md-4">

                                <div class="panel-body h-200 list">
                                    <div class="stats-title">
                                        <h4><i class="fa fa-bar-chart text-warning" aria-hidden="true"></i> Traffic source</h4>
                                    </div>
                                    <div class="small">
                                        Total users from the beginning of activity. See detailed charts for more information locations and traffic source.
                                    </div>

                                    <div class="sparkline3"></div>

                                    <div class="row">
                                        <div class="col-md-4">
                                            <small class="stat-label">Today</small>
                                            <h4 class="m-t-xs">170,20 <i class="fa fa-level-up text-warning"></i></h4>
                                        </div>
                                        <div class="col-md-4">
                                            <small class="stat-label">Last month %</small>
                                            <h4 class="m-t-xs">%20,20 <i class="fa fa-level-down c-white"></i></h4>
                                        </div>
                                        <div class="col-md-4">
                                            <small class="stat-label">Year</small>
                                            <h4 class="m-t-xs">2180,50 <i class="fa fa-level-up text-warning"></i></h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> -->
        </div>
    </section>
{% endblock content %}